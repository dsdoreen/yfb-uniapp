<view class="app-cart"><block wx:if="{{!address.userName}}"><view class="address_btn"><button type="primary" plain="{{true}}" data-event-opts="{{[['tap',[['handleChooseAdrs',['$event']]]]]}}" bindtap="__e">+ 获取收货地址</button></view></block><block wx:else><view class="address_con"><view class="adrs_info"><view>{{'收货人：'+address.userName+''}}</view><view class="adrs_phone">{{''+address.telNumber+''}}</view></view><view class="adrs_allinfo">{{''+address.all+''}}</view></view></block><view class="part_tit">购物车</view><view class="cart_main"><block wx:if="{{carts[0].goods_id}}"><view><block wx:for="{{carts}}" wx:for-item="citem" wx:for-index="idx" wx:key="goods_id"><view class="cart_item" data-index="{{citem.goods_id}}"><view class="cart_checks"><checkbox-group data-event-opts="{{[['tap',[['handleItemChange',['$event']]]]]}}" bindtap="__e"><checkbox checked="{{citem.checked}}" data-id="{{citem.goods_id}}"></checkbox></checkbox-group></view><view class="cart_info"><view class="pic"><navigator><image src="{{citem.pics[0].pics_sma}}" mode="widthFix"></image></navigator></view><view class="cont"><view class="name"><navigator url="{{'/pages/goods_detail/goods_detail?goods_id='+citem.goods_id}}">{{''+citem.goods_name+''}}</navigator></view><view class="price_set"><view class="price">{{''+citem.goods_price}}<text class="txt_jf">积分</text></view><view class="step"><view class="sub calcbtn" data-calctype="sub" data-cartid="{{citem.goods_id}}" data-event-opts="{{[['tap',[['CalcCartNum',['$event']]]]]}}" bindtap="__e">-</view><view class="num">{{citem.num}}</view><view class="add calcbtn" data-calctype="add" data-cartid="{{citem.goods_id}}" data-event-opts="{{[['tap',[['CalcCartNum',['$event']]]]]}}" bindtap="__e">+</view></view></view></view></view></view></block></view></block><block wx:else><view class="empty_cart">购物车为空~</view></block></view><view class="cart_settlement"><view class="all_check"><checkbox-group data-event-opts="{{[['tap',[['allChecked',['$event']]]]]}}" bindtap="__e"><checkbox color="{{checkColor}}" checked="{{allchecked}}" disabled="{{disable}}"></checkbox>全选</checkbox-group></view><view class="settle_cont"><view class="font">合计:</view><view class="total_price"><view class="price">{{''+totalPrice}}<text class="txt_jf">积分</text></view><text class="txt_tips">已包含运费</text></view><button type="warn" data-event-opts="{{[['tap',[['handlePay',['$event']]]]]}}" bindtap="__e">{{"结算("+sum+")"}}</button></view></view></view>